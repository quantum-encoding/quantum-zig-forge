# Migration Card: `std/os/linux/or1k.zig`

## 1) Concept

This file provides low-level system call interface implementations specifically for the OpenRISC 1000 (or1k) architecture on Linux. It contains inline assembly wrappers for making Linux system calls with 0-6 arguments, along with architecture-specific type definitions and a special `clone` implementation for thread creation.

The key components include:
- `syscall0` through `syscall6` functions that handle system calls with varying numbers of arguments using OR1K assembly instructions
- A custom `clone` function implementation with naked call convention for thread creation
- Architecture-specific type definitions (`blksize_t`, `nlink_t`, `time_t`, etc.)
- A `Stat` structure mirroring the Linux kernel's `stat64` layout for OR1K

## 2) The 0.11 vs 0.16 Diff

This file contains architecture-specific low-level system call implementations that are unlikely to have significant migration impact for typical application developers. The changes are minimal:

- **Function signature consistency**: All syscall functions now use `@intFromEnum(number)` instead of direct enum usage
- **Assembly syntax**: Uses modern Zig inline assembly syntax with proper register constraints and clobber lists
- **Type definitions**: Standardized type aliases that match Linux OR1K ABI requirements

No major API structure changes, allocator requirements, or error handling patterns are present in this low-level interface file.

## 3) The Golden Snippet

```zig
const std = @import("std");
const linux = std.os.linux;

// Example: Using syscall3 to make a system call on OR1K
pub fn example_syscall() u32 {
    const SYS = linux.SYS;
    return linux.or1k.syscall3(SYS.read, 0, 0x1000, 1024);
}

// Example: Accessing Stat structure fields
pub fn print_file_times(stat: linux.or1k.Stat) void {
    const atime = stat.atime();
    const mtime = stat.mtime();
    const ctime = stat.ctime();
    
    std.debug.print("Access: {}.{} Mod: {}.{} Change: {}.{}\n", 
        .{atime.tv_sec, atime.tv_nsec, 
          mtime.tv_sec, mtime.tv_nsec,
          ctime.tv_sec, ctime.tv_nsec});
}
```

## 4) Dependencies

- `builtin` - For target-specific compile-time information
- `std` - Core standard library via `../../std.zig`
- `std.os.linux.SYS` - System call number definitions

**Note**: This is an architecture-specific implementation file that most developers will not interact with directly. The public APIs here are primarily used internally by the Zig standard library's cross-platform OS abstractions.
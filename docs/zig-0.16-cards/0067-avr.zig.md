# Migration Card: AVR Target CPU Features

## 1) Concept
This file defines AVR microcontroller CPU features and models for Zig's target system. It's an auto-generated file that provides comprehensive information about AVR CPU architectures, their feature sets, and specific microcontroller models. The key components include:

- An enum defining all available AVR CPU features (addsubiw, avr0-avr6, avrtiny, xmega variants, etc.)
- Feature set utility functions for testing feature availability
- A complete mapping of feature metadata including LLVM names, descriptions, and dependencies
- An extensive database of AVR CPU models (atmega*, attiny*, atxmega* families) with their specific feature sets

This serves as foundational data for the Zig compiler when targeting AVR microcontrollers, enabling feature detection and CPU-specific code generation.

## 2) The 0.11 vs 0.16 Diff
This file contains no public function signatures that require migration analysis. The public API consists entirely of:

- **Enum types** (`Feature`) - stable across versions
- **Compile-time constants** (`all_features`, CPU models) - stable across versions  
- **Generic feature set functions** - generated via `CpuFeature.FeatureSetFns` and maintain compatibility

Key observations:
- No allocator requirements - all data is compile-time constants
- No I/O interfaces - purely data definitions
- No error handling - all operations are compile-time
- No API structure changes - the pattern of feature enums and CPU model definitions remains consistent

## 3) The Golden Snippet
```zig
const std = @import("std");
const avr = std.Target.avr;

// Check if a CPU model supports specific features
const cpu = avr.cpu.atmega328p;
const has_mul = avr.featureSetHas(cpu.features, .mul);
const has_lpmx = avr.featureSetHas(cpu.features, .lpmx);

// Use feature detection for conditional compilation
if (has_mul) {
    // Use hardware multiplication
    const result = hardwareMultiply(a, b);
} else {
    // Use software multiplication  
    const result = softwareMultiply(a, b);
}
```

## 4) Dependencies
- `std.Target.Cpu` - for CPU feature set functionality
- `std.Target.Cpu.Feature` - feature definition types
- `std.Target.Cpu.Model` - CPU model definition types
- `std.debug` - for compile-time assertions

This file is part of the target-specific infrastructure and primarily interacts with the CPU feature system in the standard library.
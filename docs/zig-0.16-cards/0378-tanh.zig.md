# Migration Card: `std/math/tanh.zig`

## 1) Concept

This file implements the hyperbolic tangent function (`tanh`) for floating-point types in Zig's standard library. It's a mathematical utility that computes the hyperbolic tangent of a given floating-point value, handling special cases like zero, infinity, and NaN according to IEEE 754 standards. The implementation is ported from musl libc and provides optimized versions for both 32-bit (`tanh32`) and 64-bit (`tanh64`) floating-point numbers, using bit manipulation and mathematical approximations for different value ranges.

Key components include the public `tanh` function that dispatches to type-specific implementations, internal `tanh32` and `tanh64` functions that handle the actual computation using different approximation strategies based on the input magnitude, and comprehensive test cases covering normal values, edge cases, and special IEEE 754 values.

## 2) The 0.11 vs 0.16 Diff

**No significant migration changes detected.** This file contains pure mathematical functions with stable APIs:

- **No allocator requirements**: All functions are pure computations without memory allocation
- **No I/O interface changes**: Functions operate solely on input parameters without I/O dependencies
- **No error handling changes**: Functions return computed values directly without error sets
- **Stable API structure**: Function signatures remain simple value-in, value-out patterns

The public API consists of:
```zig
pub fn tanh(x: anytype) @TypeOf(x)
```

This follows the same pattern as Zig 0.11 - a generic mathematical function that preserves the input type and has no side effects.

## 3) The Golden Snippet

```zig
const std = @import("std");
const math = std.math;

test "tanh usage example" {
    const x: f32 = 1.5;
    const result = math.tanh(x);
    try std.testing.expect(math.approxEqAbs(f32, result, 0.905148, 0.000001));
}
```

## 4) Dependencies

- `std.math` - Core mathematical functions and constants
- `std.mem` - Memory utilities (used for `doNotOptimizeAway`)
- `std.testing` - Testing framework and assertions

**Note**: The `expo2.zig` import appears to be unused in the actual implementation and may be a remnant from the musl porting process.
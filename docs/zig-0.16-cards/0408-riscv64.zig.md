# Migration Card: `std/os/linux/riscv64.zig`

## 1) Concept

This file provides RISC-V64 architecture-specific system call interfaces and type definitions for Linux. It contains low-level inline assembly implementations of system call functions (`syscall0` through `syscall6`) that use the RISC-V `ecall` instruction to invoke Linux system calls. The file also defines a custom `clone` implementation for process/thread creation and standard POSIX type definitions like `Stat`, `time_t`, `off_t`, etc., specifically tailored for the RISC-V64 ABI.

Key components include the system call wrappers that handle 0-6 arguments, a naked `clone` function with custom assembly implementation, and RISC-V64 specific type definitions that match Linux kernel structures.

## 2) The 0.11 vs 0.16 Diff

**No migration changes detected for public APIs in this file.** This is an architecture-specific system call interface layer with stable signatures:

- **System Call Functions**: All `syscallN()` functions maintain identical signatures - they take a `SYS` enum and `u64` arguments, returning `u64`
- **No Allocator Changes**: These are low-level system call wrappers that don't involve memory allocation
- **No I/O Interface Changes**: This is below the I/O abstraction layer
- **Error Handling**: Returns raw system call results (`u64`) rather than Zig error types
- **API Structure**: Maintains direct system call pattern without `init`/`open` patterns

The only potential migration note is the use of `@intFromEnum(number)` instead of the older `@enumToInt(number)`, but this is internal implementation.

## 3) The Golden Snippet

```zig
const std = @import("std");
const SYS = std.os.linux.SYS;

// Example: Using syscall2 to call openat system call
const fd = std.os.linux.riscv64.syscall2(
    SYS.openat,
    @as(u64, @intCast(std.os.linux.AT.FDCWD)),
    @intFromPtr("/path/to/file".ptr)
);

// Example: Using the Stat structure
var stat_buf: std.os.linux.riscv64.Stat = undefined;
const stat_ret = std.os.linux.riscv64.syscall2(
    SYS.fstat,
    fd,
    @intFromPtr(&stat_buf)
);

// Access timestamp information
const access_time = stat_buf.atime();
```

## 4) Dependencies

- `std` - Primary standard library import
- `builtin` - For build configuration and target information  
- `std.os.linux.SYS` - System call number definitions
- `std.os.linux.timespec` - Used in Stat structure
- `std.os.linux.uid_t/gid_t` - User/group ID types

**Note**: This file represents a stable architecture-specific interface. The migration impact is minimal as these low-level system call wrappers maintain consistent signatures across Zig versions.
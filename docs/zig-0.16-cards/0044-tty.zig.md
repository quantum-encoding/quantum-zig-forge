# Migration Card: `std.Io.tty`

## 1) Concept

This file provides terminal/TTY configuration and color manipulation functionality for Zig's standard library. It handles cross-platform terminal capabilities detection and color rendering through different backends (ANSI escape codes, Windows Console API, or no-color mode).

Key components include:
- `Color` enum defining supported terminal colors and styles (bold, dim, reset)
- `Config` union that represents different terminal configuration modes (no-color, ANSI escape codes, Windows API)
- Automatic detection logic that respects environment variables like `NO_COLOR` and `CLICOLOR_FORCE`
- Platform-specific Windows console attribute management

## 2) The 0.11 vs 0.16 Diff

**API Structure Changes:**
- `detectConfig(file: File) Config` is explicitly deprecated in favor of `Config.detect(file: File)`
- Factory pattern: Uses `Config.detect()` static method instead of standalone function
- Union-based configuration with platform-specific conditional compilation

**I/O Interface Changes:**
- `setColor` method requires explicit `*std.Io.Writer` parameter for output
- Windows API integration uses file handles directly from `std.fs.File`
- Error handling through composed error sets (`SetConsoleTextAttributeError || std.Io.Writer.Error`)

**Error Handling Changes:**
- Specific error union: `SetColorError = std.os.windows.SetConsoleTextAttributeError || std.Io.Writer.Error`
- Explicit error propagation in `setColor` method

## 3) The Golden Snippet

```zig
const std = @import("std");

pub fn main() !void {
    const stdout = std.io.getStdOut();
    
    // Detect terminal configuration
    var tty_config = std.Io.tty.Config.detect(stdout);
    
    // Create a writer
    var writer = stdout.writer();
    
    // Use the configuration to set colors
    try tty_config.setColor(&writer, .green);
    try writer.writeAll("Hello in green!\n");
    try tty_config.setColor(&writer, .reset);
}
```

## 4) Dependencies

- `std` (base import)
- `std.fs.File` (file handle operations)
- `std.process` (environment variable detection)
- `std.os.windows` (Windows console API)
- `std.Io.Writer` (output writing interface)
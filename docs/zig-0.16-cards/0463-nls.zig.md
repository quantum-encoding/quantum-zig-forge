# Migration Card: Windows NLS Support

## 1) Concept

This file implements Windows National Language Support (NLS) functionality, specifically providing Unicode uppercase character transformation for UTF-16 code units. The key component is a cross-platform implementation of the Windows `ntdll.RtlUpcaseUnicodeChar` function that converts UTF-16 characters to uppercase using locale-independent transformation data.

The implementation includes a large static uppercase table (2544 u16 values) derived from Windows system data, and a public function `upcaseW` that performs the actual transformation logic. This allows Zig code to perform Windows-compatible uppercase transformations without requiring the Windows NTDLL library, making it portable across platforms while maintaining Windows NLS compatibility.

## 2) The 0.11 vs 0.16 Diff

**No public API signature changes detected.** The file contains:

- A single public function `upcaseW(c: u16) u16` with unchanged signature
- No allocator requirements (uses static data only)
- No I/O interface dependencies
- No error handling (pure function that cannot fail)
- No struct initialization patterns

The function maintains the same simple, stateless API pattern that would have been present in 0.11. The implementation uses newer Zig features like `@truncate` for bit manipulation, but the public interface remains compatible.

## 3) The Golden Snippet

```zig
const std = @import("std");

test "uppercase transformation" {
    const nls = std.os.windows.nls;
    
    // Convert lowercase 'a' to uppercase 'A'
    const lower_a: u16 = 'a';
    const upper_a = nls.upcaseW(lower_a);
    
    try std.testing.expectEqual(@as(u16, 'A'), upper_a);
}
```

## 4) Dependencies

- `std` (standard library root)
- `builtin` (compiler builtins)
- `std.os.windows.ntdll` (test-only, for comparison)

**Note:** The primary dependency is the embedded `uppercase_table` static data. No runtime allocators or complex system dependencies are required.
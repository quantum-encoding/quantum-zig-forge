# Migration Card: `std/os/linux/riscv32.zig`

## 1) Concept

This file provides RISC-V 32-bit Linux system call implementations and type definitions for the Zig standard library. It contains low-level inline assembly functions for making Linux system calls (`syscall0` through `syscall6`) with varying numbers of arguments, a specialized `clone` function for process creation, and platform-specific type definitions including a `Stat` structure for file metadata. The file serves as the architecture-specific system call interface layer for RISC-V 32-bit Linux targets.

Key components include:
- System call wrapper functions using RISC-V `ecall` instruction with proper register mapping
- A naked `clone` function with custom assembly implementation for thread creation
- RISC-V 32-bit specific type definitions (blksize_t, nlink_t, time_t, etc.)
- Linux `Stat` structure definition matching the RISC-V 32-bit ABI

## 2) The 0.11 vs 0.16 Diff

This file contains architecture-specific low-level system call interfaces that have remained stable between Zig 0.11 and 0.16. The key differences are:

**No Breaking API Changes Detected:**
- System call functions maintain identical signatures (`syscall0` through `syscall6`)
- `clone` function signature and implementation unchanged
- Type definitions and `Stat` struct layout remain compatible
- No allocator requirements introduced (these are raw system calls)
- No I/O interface changes (direct hardware interface)

**Minor Implementation Details:**
- Uses `@intFromEnum` for enum-to-integer conversion (consistent with Zig 0.16)
- Maintains inline assembly syntax with proper register constraints
- Preserves the same error handling pattern (raw system call returns)

## 3) The Golden Snippet

```zig
const std = @import("std");
const linux = std.os.linux;

// Example: Get current process ID using RISC-V 32-bit system call
pub fn getpid() u32 {
    return linux.riscv32.syscall0(linux.SYS.getpid);
}

// Example usage
pub fn main() void {
    const pid = getpid();
    std.debug.print("Process ID: {}\n", .{pid});
}
```

## 4) Dependencies

- `builtin` - For target-specific configuration
- `std` - Core standard library imports
- `std.os.linux.SYS` - System call number definitions
- `std.os.linux` - For type definitions (uid_t, gid_t, timespec)

This file has minimal dependencies as it primarily provides low-level system call interfaces rather than consuming higher-level abstractions.
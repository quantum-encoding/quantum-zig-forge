# Migration Card: std/math/log10.zig

## 1) Concept

This file implements base-10 logarithm functions for the Zig standard library. It provides both floating-point and integer logarithm capabilities. The main `log10` function is polymorphic and handles different numeric types (comptime floats, runtime floats, comptime integers, and unsigned integers), while `log10_int` specifically handles unsigned integer logarithm calculations by rounding down to the nearest integer.

Key components include:
- Main `log10` function that dispatches to appropriate implementations based on input type
- `log10_int` function for unsigned integer logarithm calculations
- Helper functions (`log10_int_u8`, `less_than_5`, `pow10`) for optimized integer logarithm computation
- Comprehensive test suite covering various integer types and edge cases

## 2) The 0.11 vs 0.16 Diff

**No Breaking API Changes Detected**

This mathematical utility file maintains stable function signatures between Zig 0.11 and 0.16:

- **No explicit allocator requirements**: Pure mathematical functions without memory allocation
- **No I/O interface changes**: No file or stream operations
- **No error handling changes**: Functions return direct results without error sets
- **API structure remains consistent**: Same function names and parameter patterns

The public API consists of two main functions:
- `pub fn log10(x: anytype) @TypeOf(x)` - Generic logarithm for all numeric types
- `pub fn log10_int(x: anytype) std.math.Log2Int(@TypeOf(x))` - Integer-specific logarithm

Both functions use Zig's generic type system (`anytype`) and return type deduction, patterns that remain stable across versions.

## 3) The Golden Snippet

```zig
const std = @import("std");

test "log10 usage examples" {
    // Floating-point logarithm
    const float_result = std.math.log10(@as(f64, 100.0));
    try std.testing.expect(float_result == 2.0);

    // Unsigned integer logarithm (floor of log10)
    const int_result = std.math.log10_int(@as(u32, 100));
    try std.testing.expect(int_result == 2);

    // Compile-time integer logarithm
    const comptime_result = std.math.log10(100);
    _ = comptime_result;
}
```

## 4) Dependencies

- `std` - Root standard library import
- `builtin` - For conditional compilation and backend detection
- `std.testing` - Test framework utilities
- `std.math` - Mathematical utilities and type definitions (via std.zig)
- `std.debug` - Assertion functionality (implicitly through std.zig)

**Note**: This is a mathematical utility file with minimal dependencies, primarily relying on built-in compiler intrinsics (`@log10`) and basic standard library components for testing.